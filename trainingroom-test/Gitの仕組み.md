# ブランチ(branch)とは

例えば、掲示板システムでは
- ユーザーの新規登録機能
- 新規投稿機能
- ログイン機能

など掲示板システムを構成する機能は複数あったと思います。

これを一人で開発する場合はまずユーザーの新規登録機能の実装 => ログイン機能の実装 => etcといったように一つずつ片付けていくしかありません。

しかし、チームで開発する場合はそれぞれに担当を割り振って並行して開発するほうが効率的なのは想像に容易いと思います。

- Aさんはユーザーの新規登録機能を実装する。
- Bさんは新規投稿機能を実装する。
- Cさんはログイン機能を実装する。

というような感じです。

それぞれの作業単位でブランチを準備することによって実現できます。

本章ではブランチの仕組みと実際の操作を解説したいと思います。

## ブランチのイメージ図

![](/img/branches.png)


呼び方は人それぞれですが、ブランチは基本的に以下の2つに分類されるはずです。
- 派生元ブランチ
- 派生ブランチ

[ソースコード編集前作業～作業用ブランチの作成～](./チーム開発の事始め.md#ソースコード編集前作業作業用ブランチの作成)では

|分類|ブランチ名|
|:--|:--|
|派生元ブランチ|master|
|派生ブランチ|自分で入力した新規ブランチ名|

といった関係です。




# ブランチの取り込み

自身の作業ブランチにAさんの修正したソースコードを反映したい場合の手順を記載する。
- 自分の作業ブランチ名 => `self`
- Aさんの作業ブランチ名 => `A_branch`

## 前提

- [ ] `self` と `A_branch` は `master` からの派生ブランチであること

## ローカルで取り込みたい場合

Eclipseの`Git リポジトリー`にて、対象リポジトリー名を右クリック

`プル`をクリック

ブランチ => ローカルを展開して`self`を右クリック

`マージ`を選択

次画面でリモートトラッキングの`origin/A_branch`を選択

その他の設定値は変更せずに`マージ`をクリック

以下のメッセージが表示されれば正常完了

```
結果：Already-up-to-date
```

## GitHub上(リモートリポジトリ)で取り込みたい場合

GitHubにログイン、対象のリポジトリーページを開く

Pull request をタブを開き`New pull request`をクリックする。

baseに`self`を選択、compareに`A_branch`を選択

諸々入力して`Create pull request`をクリック

レビューしてもらってOKであれば、対象のpull request ページの`Merge pull request`をクリック

以下のメッセージが表示されればOK

```
Pull request successfully merged and closed
```

横に`Delete Branch`のボタンが出るかと思いますが、削除される対象はマージ**された**ブランチになります。
今回の例でいうと`A_branch`となります。

ブランチ削除は必要に応じて行ってください。
